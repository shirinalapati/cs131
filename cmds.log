# Task 1a: Write alias 'l' for 'ls -ltr'
echo "alias l='ls -ltr'" >> ~/.bashrc

# Task 1b: Write alias 'w' for 'ls -l | wc'
echo "alias w='ls -l | wc'" >> ~/.bashrc

# Task 2a: Create FARE directory under a1
mkdir -p ~/cs131/a1/FARE

# Task 2b: Extract fare amounts for location pair 48.0 to 161.0
grep "48.0" 2019-01-h1.csv | grep "161.0" | cut -d, -f11 > ~/cs131/a1/FARE/48.0-161.0.txt

# Task 2b: Extract fare amounts for location pair 48.0 to 162.0
grep "48.0" 2019-01-h1.csv | grep "162.0" | cut -d, -f11 > ~/cs131/a1/FARE/48.0-162.0.txt

# Task 2c: Compute mean fare for 48.0-161.0
sum=$(cut -d, -f11 ~/cs131/a1/FARE/48.0-161.0.txt | paste -sd+ - | bc)
count=$(wc -l < ~/cs131/a1/FARE/48.0-161.0.txt)
echo "scale=2; $sum / $count" | bc

# Task 2c: Compute mean fare for 48.0-162.0
sum=$(cut -d, -f11 ~/cs131/a1/FARE/48.0-162.0.txt | paste -sd+ - | bc)
count=$(wc -l < ~/cs131/a1/FARE/48.0-162.0.txt)
echo "scale=2; $sum / $count" | bc

# Task 2d: Find total fare for January 10, 2019
grep "2019-01-10" 2019-01-h1.csv | cut -d, -f11 | paste -sd+ - | bc

# Task 2e: Find 10 most popular dropoff locations with 3 or more passengers
grep -E ",[3-9][0-9]*," 2019-01-h1.csv | cut -d, -f9 | sort | uniq -c | sort -nr | head -n 10

